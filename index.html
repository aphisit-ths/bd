<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday ‡∏ö‡∏∏‡∏©‡∏ö‡∏≤</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Itim&family=Mitr:wght@300;400&family=Maledpan&family=Kodchasan:wght@400;600&family=Athiti:wght@400;600&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Maledpan', 'Mitr', sans-serif;
      background-color: #fff6f9;
      color: #333;
      overflow-x: hidden;
      font-weight: 300;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }

    section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem 1.5rem;
      position: relative;
      overflow: hidden;
      text-align: center;
      z-index: 1; /* ‡πÉ‡∏´‡πâ section ‡∏°‡∏µ z-index ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
    }

    h1 {
      font-family: 'Kodchasan', cursive;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      opacity: 0;
      transform: translateY(30px);
      transition: all 1s ease;
      color: #ff5e78;
      text-shadow: 1px 1px 0px rgba(255,255,255,0.8);
      font-weight: 600;
    }

    p {
      font-family: 'Athiti', sans-serif;
      font-size: 1.3rem;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
      opacity: 0;
      transform: translateY(30px);
      transition: all 1s ease 0.3s;
      font-weight: 400;
    }

    .visible h1, .visible p {
      opacity: 1;
      transform: translateY(0);
    }

    .heart {
      position: absolute;
      font-size: 1.5rem;
      animation: floatHeart 10s linear infinite;
      opacity: 0.8;
      color: #ff6b6b;
    }

    @keyframes floatHeart {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .bg-1 { background: linear-gradient(to bottom, #fff6f9, #ffe6f2); }
    .bg-2 { background: linear-gradient(to bottom, #ffe6f2, #ffd1e8); }
    .bg-3 { background: linear-gradient(to bottom, #ffd1e8, #ffbcdd); }
    .bg-4 { background: linear-gradient(to bottom, #ffbcdd, #ffa8d3); }
    .bg-5 { background: linear-gradient(to bottom, #ffa8d3, #ff94c9); }
    .bg-6 { background: radial-gradient(circle, #ff94c9, #ff5e78); }

    .music-control {
      position: fixed;
      bottom: 15px;
      right: 15px;
      z-index: 100;
      background: rgba(255, 187, 215, 0.8);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
    }

    .music-icon {
      font-size: 24px;
    }

    .photo-frame {
      width: 280px;
      height: 280px;
      border-radius: 20px;
      border: 8px solid white;
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.25);
      margin: 1.5rem 0;
      overflow: hidden;
      opacity: 0;
      transform: scale(0.8);
      transition: all 1s ease 0.6s;
    }

    .visible .photo-frame {
      opacity: 1;
      transform: scale(1);
    }

    .photo-placeholder {
      width: 100%;
      height: 100%;
      background-color: #ffebf5;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #ff73b9;
      font-size: 0.9rem;
      font-family: 'Athiti', sans-serif;
    }

    .final-section {
      background: radial-gradient(circle, #ff94c9, #ff5e78);
    }

    .final-title {
      font-size: 2.8rem;
      color: white;
      text-shadow: 2px 2px 0px rgba(255, 105, 180, 0.4);
      margin-bottom: 1.5rem;
    }

    .cake {
      font-size: 5rem;
      margin: 1.5rem 0;
      animation: bounce 2s infinite;
      opacity: 0;
      transition: opacity 1s ease 0.9s;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .visible .cake {
      opacity: 1;
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-20px);
      }
    }

    .instructions {
      position: fixed;
      top: 15px;
      left: 15px;
      background: rgba(255, 187, 215, 0.9);
      padding: 8px 15px;
      border-radius: 30px;
      font-size: 0.9rem;
      box-shadow: 0 3px 8px rgba(255, 105, 180, 0.3);
      color: #ff2966;
      font-family: 'Maledpan', sans-serif;
      z-index: 50;
    }

    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ */
    .sticker {
      position: absolute;
      font-size: 1.8rem;
      opacity: 0.7;
      animation: float 7s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-15px) rotate(5deg);
      }
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
    .sound-notice {
      padding: 12px 20px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      border: 2px solid #ff73b9;
      margin-top: 20px;
      font-family: 'Maledpan', sans-serif;
      font-size: 1rem;
      color: #ff2966;
      text-align: center;
      animation: pulse 2s infinite;
      box-shadow: 0 4px 10px rgba(255, 105, 180, 0.25);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease 1s;
    }

    .visible .sound-notice {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(255, 105, 180, 0.5);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(255, 105, 180, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(255, 105, 180, 0);
      }
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° */
    .question-image {
      max-width: 280px;
      max-height: 180px;
      margin: 0 auto 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .answer-input {
      width: 85%;
      max-width: 280px;
      padding: 12px;
      border: 2px solid #ffbcdd;
      border-radius: 10px;
      font-family: 'Athiti', sans-serif;
      font-size: 1.1rem;
      margin: 15px 0;
    }

    .submit-btn {
      background: #ff5e78;
      color: white;
      border: none;
      padding: 10px 22px;
      border-radius: 50px;
      font-family: 'Maledpan', sans-serif;
      font-size: 1.1rem;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(255, 105, 180, 0.25);
      transition: all 0.3s;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease 0.6s;
    }

    .visible .submit-btn {
      opacity: 1;
      transform: translateY(0);
    }

    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(255, 105, 180, 0.4);
    }

    .feedback {
      margin-top: 15px;
      color: #ff5e78;
      font-size: 1.1rem;
      height: 30px;
      font-family: 'Athiti', sans-serif;
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç */
    .video-container {
      width: 90%;
      max-width: 350px;
      margin: 20px auto;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.25);
      opacity: 0;
      transform: scale(0.8);
      transition: all 1s ease 0.6s;
    }

    .visible .video-container {
      opacity: 1;
      transform: scale(1);
    }

    .gift-container {
      text-align: center;
      margin-top: 25px;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease 0.9s;
    }

    .visible .gift-container {
      opacity: 1;
      transform: translateY(0);
    }

    .gift-emoji {
      font-size: 5rem;
      margin: 0 auto;
      cursor: pointer;
      transition: all 0.3s;
      animation: pulse-gift 2s infinite;
    }

    @keyframes pulse-gift {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
      }
    }

    .gift-emoji:hover {
      transform: scale(1.2);
    }

    .clue-text {
      font-family: 'Athiti', sans-serif;
      font-size: 1.1rem;
      color: #ff5e78;
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 236, 246, 0.8);
      border-radius: 10px;
      display: none;
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ */
    .couple-photo {
      width: 280px;
      height: auto;
      border-radius: 10px;
      margin-top: 20px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transform: scale(0.8);
      transition: all 1s ease 0.9s;
    }

    .visible .couple-photo {
      opacity: 1;
      transform: scale(1);
    }

    .navigation {
      position: fixed;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      z-index: 100;
      background: rgba(255, 255, 255, 0.7);
      padding: 5px 10px;
      border-radius: 30px;
    }

    .nav-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 187, 215, 0.5);
      margin: 0 5px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .nav-dot.active {
      background: #ff5e78;
      transform: scale(1.3);
    }

    /* ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å */
    .emoji-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 101;
    }

    .flying-emoji {
      position: absolute;
      font-size: 1.5rem;
      opacity: 0;
      animation: fly-emoji 2s forwards;
    }

    @keyframes fly-emoji {
      0% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translate(
          calc(-50% + (100vw - 50px) * var(--x)),
          calc(-50% + (100vh - 50px) * var(--y))
        ) scale(1);
        opacity: 0;
      }
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ (‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô) */
    .envelope-container {
      width: 320px;
      height: 220px;
      margin: 50px auto;
      position: relative;
      cursor: pointer;
    }

    .envelope {
      width: 100%;
      height: 100%;
      position: relative;
      transition: all 0.5s ease;
      transform-style: flat;
    }

    .envelope-front {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #ff94c9, #ff5e78);
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      z-index: 3;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      transition: transform 0.6s ease;
    }

    .envelope.open .envelope-front {
      transform: translateY(-100%);
    }

    .envelope-letter {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 10px;
      z-index: 2;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .envelope-pattern {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.2;
      background-image: repeating-linear-gradient(
        45deg,
        #ffffff,
        #ffffff 10px,
        transparent 10px,
        transparent 20px
      );
    }

    .stamp {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 50px;
      height: 60px;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 5px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      transform: rotate(5deg);
    }

    .stamp-design {
      font-size: 30px;
      color: #ff5e78;
    }

    .to-text {
      position: absolute;
      bottom: 30px;
      width: 100%;
      text-align: center;
      color: white;
      font-family: 'Maledpan', sans-serif;
      font-size: 1.5rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    }

    .envelope-letter h2 {
      font-family: 'Kodchasan', cursive;
      color: #ff5e78;
      margin-bottom: 15px;
      font-size: 1.6rem;
    }

    .envelope-letter p {
      font-family: 'Athiti', sans-serif;
      color: #333;
      font-size: 1rem;
      margin-bottom: 15px;
      opacity: 1;
      transform: none;
    }

    .click-hint {
      position: absolute;
      bottom: -40px;
      left: 0;
      width: 100%;
      text-align: center;
      color: #ff5e78;
      font-family: 'Athiti', sans-serif;
      font-size: 1rem;
      opacity: 0.8;
      animation: pulse 1.5s infinite;
    }

    .hidden-content {
      display: none;
      position: relative;
      z-index: 1;
    }

    .show-content {
      display: block;
      position: relative;
      z-index: 1;
    }

    .birthday-btn {
      background: #ff5e78;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      font-family: 'Maledpan', sans-serif;
      font-size: 1rem;
      margin-top: 15px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(255, 105, 180, 0.25);
      transition: all 0.3s;
    }

    .birthday-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(255, 105, 180, 0.4);
    }

    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff6f9;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000; /* ‡πÄ‡∏û‡∏¥‡πà‡∏° z-index ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î */
      flex-direction: column;
    }

    .loading-animation {
      width: 100px;
      height: 100px;
      position: relative;
    }

    .loading-circle {
      width: 100%;
      height: 100%;
      border: 5px solid transparent;
      border-top-color: #ff5e78;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .loading-heart {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      animation: pulse 1.5s infinite;
    }

    .loading-text {
      margin-top: 20px;
      font-family: 'Maledpan', sans-serif;
      color: #ff5e78;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î -->
<div class="loading-screen" id="loading-screen">
  <div class="loading-animation">
    <div class="loading-circle"></div>
    <div class="loading-heart">üíå</div>
  </div>
  <div class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
</div>

<div class="music-control" onclick="toggleMusic()">
  <div class="music-icon">‚ñ∂Ô∏è</div>
</div>

<div class="navigation" id="navigation">
  <!-- Nav dots will be added here -->
</div>

<!-- ‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ß‡πá‡∏ö -->
<audio id="background-music" loop preload="auto">
  <source src="img/bg-song.mp3" type="audio/mpeg">
</audio>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ -->
<section class="bg-1" id="envelope-section" data-index="0">
  <div class="envelope-container" id="envelope-container">
    <div class="envelope" id="envelope">
      <div class="envelope-front">
        <div class="envelope-pattern"></div>
        <div class="stamp">
          <div class="stamp-design">üéÇ</div>
        </div>
        <div class="to-text">‡∏ñ‡∏∂‡∏á ‡∏î‡∏∑‡πâ‡∏≠</div>
      </div>
      <div class="envelope-letter">
        <h2>‡πÅ‡∏Æ‡∏õ‡∏õ‡∏µ‡πâ‡πÄ‡∏ö‡∏¥‡∏î‡πÄ‡∏î‡∏¢‡πå‡∏Ñ‡∏£‡∏±‡∏ö‡∏ö‡∏ö‡∏ö !</h2>
        <p>‡∏ô‡∏±‡πà‡∏á‡∏Ñ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏î‡∏∑‡πâ‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ... ‡πÄ‡∏•‡∏¢‡∏ó‡∏≥‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡πÉ‡∏´‡πâ üòä</p>
        <button class="birthday-btn" id="start-journey">‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞ üëÄ</button>
      </div>
    </div>
    <div class="click-hint">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ã‡∏≠‡∏á</div>
  </div>
</section>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° clearfix ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏¢‡∏ï‡∏±‡∏ß -->
<div style="clear: both; height: 0; width: 100%;"></div>

<!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô) -->
<div class="hidden-content" id="main-content">
  <section class="bg-2" id="memory-intro" data-index="1">
    <h1>‡∏°‡∏≤‡∏î‡∏π‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á‡∏á‡∏á</h1>

    <div class="photo-frame">
      <div class="photo-placeholder">
        <img src="img/grid.jpg" alt="‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥" style="width:100%; height:100%; object-fit:cover;">
      </div>
    </div>

    <p>‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏ô‡∏∞</p>
    <p>‡∏°‡∏≤‡∏î‡∏π‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏ô‡∏∏‡∏Å ‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏±‡∏ô‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>

    <div class="sticker" style="bottom: 15%; left: 15%;">üéûÔ∏è</div>
    <div class="sticker" style="top: 20%; right: 10%;">üìÜ</div>
    <div class="sticker" style="top: 40%; left: 20%;">üí´</div>
    <div class="sticker" style="bottom: 30%; right: 25%;">üíù</div>
  </section>
  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥ 2: ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® -->
  <section class="bg-4" id="memory-china" data-index="2">
    <h1>‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‚úàÔ∏è</h1>

    <div class="photo-frame">
      <div class="photo-placeholder">
        <img src="img/chengdu.jpg" alt="‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏â‡∏¥‡∏á‡∏ï‡∏π" style="width:100%; height:100%; object-fit:cover;">
      </div>
    </div>
    <p>‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏£‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏±‡∏ô‡∏´‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏ó‡∏≥‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏£‡∏¥‡∏õ‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏≤‡∏ß‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ï‡∏≤‡∏¢ ‡∏≠‡πâ‡∏ß‡∏ô‡πÅ‡∏Æ‡∏õ‡∏õ‡∏µ‡∏°‡∏≤‡∏Å‡πÜ ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏∞‡∏î‡∏∑‡πâ‡∏≠ ‡πÑ‡∏ß‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πÜ ‡∏ô‡∏∞</p>

    <div class="sticker" style="bottom: 15%; left: 15%;">‚úàÔ∏è</div>
    <div class="sticker" style="top: 20%; right: 10%;">üß∏</div>
    <div class="sticker" style="top: 40%; left: 20%;">üèØ</div>
    <div class="sticker" style="bottom: 30%; right: 25%;">üåè</div>
  </section>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥ 3: ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå -->
  <section class="bg-5" id="memory-car" data-index="3">
    <h1>‡πÑ‡∏°‡∏Å‡πâ‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ö‡∏≠‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢ üöô</h1>

    <div class="photo-frame">
      <div class="photo-placeholder">
        <img src="img/mika.jpg" alt="‡∏£‡∏ñ‡πÑ‡∏°‡∏Å‡πâ‡∏≤" style="width:100%; height:100%; object-fit:cover;">
      </div>
    </div>
    <p>‡∏î‡∏µ‡πÉ‡∏à‡∏Å‡∏∞‡∏î‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏Å‡πÑ‡∏°‡∏Å‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏î‡∏∑‡πâ‡∏≠ ‡∏Ç‡∏±‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏û‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>

    <div class="sticker" style="bottom: 15%; left: 15%;">üöó</div>
    <div class="sticker" style="top: 20%; right: 10%;">üõ£Ô∏è</div>
    <div class="sticker" style="top: 40%; left: 20%;">üîë</div>
    <div class="sticker" style="bottom: 30%; right: 25%;">üåà</div>
  </section>
  <section class="bg-2" id="section2" data-index="4">
    <h1>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô</h1>
    <div class="photo-frame">
      <div class="photo-placeholder">
        <img src="img/01.jpg" alt="‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤" class="couple-photo">
      </div>
    </div>
    <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡∏ï‡∏≠‡∏ô‡∏≠‡πâ‡∏ß‡∏ô‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏ï‡∏≠‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏•‡∏≥‡∏ö‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏î‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏¥‡πâ‡∏á‡∏≠‡πâ‡∏ß‡∏ô‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡πÄ‡∏•‡∏¢</p>
    <div class="sticker" style="bottom: 15%; left: 15%;">üéÄ</div>
    <div class="sticker" style="top: 25%; right: 10%;">üíñ</div>
    <div class="sticker" style="top: 10%; left: 25%;">üåü</div>
    <div class="sticker" style="bottom: 30%; right: 25%;">üíï</div>
  </section>

  <section class="bg-3" id="section3" data-index="5">
    <h1>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏ï‡∏•‡∏≠‡∏î</h1>
    <div class="photo-frame">
      <div class="photo-placeholder">
        <img src="img/we.jpg" alt="‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤" class="couple-photo">
      </div>
    </div>
    <p>‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏∑‡πâ‡∏≠‡∏£‡∏µ‡∏î‡∏ú‡πâ‡∏≤‡πÉ‡∏´‡πâ ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏ô‡∏°‡∏°‡∏≤‡∏ù‡∏≤‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏Ñ‡∏≠‡∏°‡πÉ‡∏´‡πâ... ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏ß‡∏ô‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏î‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÜ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p>
    <div class="sticker" style="bottom: 20%; right: 20%;">üåü</div>
    <div class="sticker" style="top: 15%; left: 20%;">üéµ</div>
    <div class="sticker" style="bottom: 35%; left: 10%;">‚ú®</div>
    <div class="sticker" style="top: 35%; right: 15%;">üí´</div>
  </section>

  <section class="bg-6 final-section" id="section4" data-index="6">
    <h1 class="final-title">‡πÅ‡∏Æ‡∏õ‡∏õ‡∏µ‡πâ‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏ò‡πÄ‡∏î‡∏¢‡πå!</h1>
    <div class="cake">üéÇ</div>
    <p>‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏∑‡πâ‡∏≠‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏°‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤</p>
    <p>‡∏£‡∏±‡∏Å‡∏î‡∏∑‡πâ‡∏≠‡∏ô‡∏∞ ‚ù§Ô∏è</p>
    <img src="img/you.jpg" alt="‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤" class="couple-photo">
    <div class="sticker" style="bottom: 20%; left: 20%;">üéÅ</div>
    <div class="sticker" style="top: 15%; right: 25%;">üéä</div>
    <div class="sticker" style="bottom: 40%; right: 10%;">üéà</div>
    <div class="sticker" style="top: 40%; left: 15%;">üå∏</div>
  </section>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° -->
  <section class="bg-4" id="section5" data-index="7">
    <h1>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©!</h1>
    <img src="img/rick.jpg" alt="Rick and Morty" class="question-image" id="question-image">
    <p>‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?</p>
    <input type="text" class="answer-input" id="answer-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö...">
    <p class="feedback" id="feedback"></p>
    <button class="submit-btn" id="submit-btn">‡∏ï‡∏≠‡∏ö</button>
    <div class="sticker" style="bottom: 15%; right: 15%;">üåü</div>
    <div class="sticker" style="top: 15%; left: 15%;">‚ú®</div>
    <div class="sticker" style="top: 35%; right: 30%;">üíñ</div>
    <div class="sticker" style="bottom: 30%; left: 25%;">üéÄ</div>
  </section>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç -->
  <section class="bg-5" id="section6" data-index="8">
    <h1>‡∏≠‡∏∞‡πÅ‡∏Æ‡πà‡∏°‡πÜ ‡πÇ‡∏´‡∏•‡πÜ!</h1>

    <div class="video-container">
      <!-- ‡πÉ‡∏™‡πà‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
      <iframe
        width="auto"
        height="auto"
        src="https://www.youtube.com/embed/avxvqKHm0Zs"
        frameborder="0"
        allowfullscreen>
      </iframe>
    </div>

    <div class="gift-container">
      <h2>‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</h2>
      <div class="gift-emoji" id="gift-emoji">üéÅ</div>
      <p class="clue-text" id="clue-text">
        ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡∏Ñ‡∏¥‡∏Ñ‡∏¥
      </p>
    </div>

    <div class="sticker" style="bottom: 10%; right: 20%;">üéÅ</div>
    <div class="sticker" style="top: 10%; left: 20%;">üéä</div>
    <div class="sticker" style="top: 25%; right: 10%;">üíù</div>
    <div class="sticker" style="bottom: 25%; left: 10%;">üåü</div>
  </section>
</div>

<div class="emoji-animation" id="emoji-animation"></div>

<script>
  let isMuted = true;
  let currentSection = 0;
  // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
  let envelopeOpened = false;
  let totalSections = 10; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 10 (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å 1 ‡∏´‡∏ô‡πâ‡∏≤ intro)

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
  window.addEventListener('load', () => {
    // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î
    setTimeout(() => {
      document.getElementById('loading-screen').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('loading-screen').style.display = 'none';
      }, 500);
    }, 1500);

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ
    hideInitialSections();
    createNavDots();

    // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô (‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô)
    document.getElementById('background-music').load();

    // ‡∏ã‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
    setTimeout(() => {
      if (document.querySelector('.instructions')) {
        document.querySelector('.instructions').style.opacity = '0';
        setTimeout(() => {
          if (document.querySelector('.instructions')) {
            document.querySelector('.instructions').style.display = 'none';
          }
        }, 1000);
      }
    }, 5000);

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
    createHearts();

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
    window.addEventListener('scroll', checkSections);
  });

  // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏ã‡∏≠‡∏á
  document.getElementById('envelope-container').addEventListener('click', function() {
    if (!envelopeOpened) {
      // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î
      document.getElementById('envelope').classList.add('open');
      envelopeOpened = true;

      // ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á - ‡πÉ‡∏ä‡πâ try-catch ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
      setTimeout(() => {
        try {
          const music = document.getElementById('background-music');
          const playPromise = music.play();

          if (playPromise !== undefined) {
            playPromise.then(_ => {
              // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
              document.querySelector('.music-icon').innerHTML = 'üîä';
              isMuted = false;
            })
              .catch(error => {
                // ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏î‡πâ - ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
                console.log("Cannot autoplay music, user will need to press play button");
                document.querySelector('.music-icon').innerHTML = '‚ñ∂Ô∏è';
                isMuted = true;
              });
          }
        } catch (e) {
          // ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á
          console.log("Error playing audio:", e);
        }
      }, 500);

      // ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ
      if (document.querySelector('.click-hint')) {
        document.querySelector('.click-hint').style.display = 'none';
      }
    }
  });

  // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å
  document.getElementById('start-journey').addEventListener('click', function() {
    // ‡∏•‡πâ‡∏≤‡∏á envelope section ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö
    document.getElementById('envelope-container').style.display = 'none';

    // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å
    document.getElementById('main-content').classList.add('show-content');
    document.getElementById('envelope-section').style.display = 'none';
    document.getElementById('section2').style.display = 'flex';

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ visible ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
    setTimeout(() => {
      document.getElementById('section2').classList.add('visible');
      currentSection = 1;
      updateNavDots();
      // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô checkSections ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
      checkSections();

      // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô
      window.scrollTo(0, 0);
    }, 100);
  });

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
  function createHearts() {
    const finalSection = document.getElementById('section4');
    for (let i = 0; i < 20; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíì', 'üíó'][Math.floor(Math.random() * 5)];
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 10 + 5) + 's';
      heart.style.animationDelay = Math.random() * 5 + 's';
      finalSection.appendChild(heart);
    }
  }

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏∏‡∏î‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
  function createNavDots() {
    const nav = document.getElementById('navigation');
    nav.innerHTML = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°

    for (let i = 0; i < totalSections; i++) {
      const dot = document.createElement('div');
      dot.className = 'nav-dot';
      if (i === 0) dot.classList.add('active');
      dot.addEventListener('click', () => scrollToSection(i));
      nav.appendChild(dot);
    }
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏∏‡∏î‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
  function updateNavDots() {
    const navDots = document.querySelectorAll('.nav-dot');
    navDots.forEach((dot, i) => {
      dot.classList.toggle('active', i === currentSection);
    });
  }

  // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  function hideInitialSections() {
    document.getElementById('main-content').classList.remove('show-content');
    document.getElementById('section5').style.display = 'none';
    document.getElementById('section6').style.display = 'none';
  }

  // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
  function scrollToSection(index) {
    // ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ã‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß
    if (!envelopeOpened && index > 0) return;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß
    const mainContentVisible = document.getElementById('main-content').classList.contains('show-content');

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å
    if (index === 0 && !mainContentVisible) {
      return; // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
    }

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß
    if (index === 0 && mainContentVisible) {
      // ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß
      index = 1; // ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏ó‡∏ô
    }

    // ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß
    if (mainContentVisible) {
      // ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô
      if (index === 5 && !document.getElementById('section6').classList.contains('visible')) {
        index = 4;
      }

      if (index === 4 && document.getElementById('section5').style.display === 'none') {
        index = 3;
      }

      const sectionId = index === 0 ? 'envelope-section' : `section${index + 1}`;
      const section = document.getElementById(sectionId);

      if (section) {
        window.scrollTo({
          top: section.offsetTop,
          behavior: 'smooth'
        });
      }
    }
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á
  function checkSections() {
    // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ
    if (!document.getElementById('main-content').classList.contains('show-content')) return;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡πâ‡∏≤‡∏á z-index ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà
    document.getElementById('envelope-section').style.zIndex = '-1';
    document.getElementById('main-content').style.zIndex = '2';

    const sections = document.querySelectorAll('#main-content section');
    let visibleFound = false;

    sections.forEach(section => {
      // ‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô
      if (section.style.display === 'none') return;

      const sectionTop = section.getBoundingClientRect().top;
      const sectionBottom = section.getBoundingClientRect().bottom;
      const isVisible = sectionTop < window.innerHeight * 0.5 && sectionBottom > window.innerHeight * 0.5;

      if (isVisible) {
        section.classList.add('visible');
        visibleFound = true;

        const sectionIndex = parseInt(section.dataset.index);
        currentSection = sectionIndex;
        updateNavDots();

        // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
        if (sectionIndex === 3 && section.classList.contains('visible')) {
          document.getElementById('section5').style.display = 'flex';
          // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ visible ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
          setTimeout(() => {
            if (document.getElementById('section5') &&
              document.getElementById('section5').style.display === 'flex') {
              document.getElementById('section5').classList.add('visible');
            }
          }, 200);
        }
      } else if (!visibleFound) {
        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏•‡∏ö‡∏Ñ‡∏•‡∏≤‡∏™ visible ‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô
        // ‡∏à‡∏∂‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ
        section.classList.remove('visible');
      }
    });
  }

  // ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á
  function toggleMusic() {
    const music = document.getElementById('background-music');
    const musicIcon = document.querySelector('.music-icon');

    if (isMuted) {
      music.play();
      musicIcon.innerHTML = 'üîä';
    } else {
      music.pause();
      musicIcon.innerHTML = '‚ñ∂Ô∏è';
    }

    isMuted = !isMuted;
  }

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥
  function createEmojiAnimation() {
    const container = document.getElementById('emoji-animation');
    const emojis = ['‚ú®', 'üíñ', 'üéÄ', 'ü¶¢', 'üíé', 'üåü', '‚ú®', 'üéâ', 'üéä', 'üí´'];

    // ‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡πÄ‡∏Å‡πà‡∏≤
    container.innerHTML = '';

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡πÉ‡∏´‡∏°‡πà
    for (let i = 0; i < 20; i++) {
      const emoji = document.createElement('div');
      emoji.className = 'flying-emoji';
      emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
      emoji.style.setProperty('--x', Math.random());
      emoji.style.setProperty('--y', Math.random());
      emoji.style.left = '50%';
      emoji.style.top = '50%';
      emoji.style.animationDelay = (Math.random() * 1) + 's';

      container.appendChild(emoji);
    }
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
  document.getElementById('submit-btn').addEventListener('click', function() {
    const answer = document.getElementById('answer-input').value.trim();
    const feedback = document.getElementById('feedback');

    if (answer === "‡πÄ‡∏á‡∏¥‡∏ö‡πÄ‡∏•‡∏¢‡∏î‡∏¥‡∏Ñ‡πâ‡∏≤‡∏ö") {
      feedback.textContent = "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! üéâ ‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏®‡∏©‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ü´£";
      feedback.style.color = "green";

      // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
      document.getElementById('section6').style.display = 'flex';

      // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
      setTimeout(() => {
        scrollToSection(5);
        document.getElementById('birthday-video').play();
      }, 2000);
    } else {
      feedback.textContent = "‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞";
      feedback.style.color = "#ff5e78";
    }
  });

  // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç
  document.getElementById('gift-emoji').addEventListener('click', function() {
    document.getElementById('clue-text').style.display = 'block';
    createEmojiAnimation();
  });

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
  window.addEventListener('scroll', checkSections);
</script>
</body>
</html>
